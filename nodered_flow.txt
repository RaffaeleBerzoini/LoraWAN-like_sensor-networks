[{"id":"2ab4f9aa.b217b6","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"3864c7a1.6ef788","type":"tcp in","z":"2ab4f9aa.b217b6","name":"","server":"server","host":"127.0.0.1","port":"1234","datamode":"stream","datatype":"utf8","newline":"\\n","topic":"","base64":false,"x":180,"y":260,"wires":[["f674217e.ad3b","ebdd0fb1.a7fe48","22ec5241.903776","7d35484f.44036","9dfea1f6.eb4b1","8b350276.421d5"]]},{"id":"f674217e.ad3b","type":"debug","z":"2ab4f9aa.b217b6","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":480,"y":100,"wires":[]},{"id":"ebdd0fb1.a7fe48","type":"function","z":"2ab4f9aa.b217b6","name":"sender","func":"var bytes = Buffer.from(msg.payload)\n\nvar integer = bytes[1]\n\nmsg.payload = integer\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":240,"wires":[["d63679b7.4173c"]]},{"id":"d63679b7.4173c","type":"debug","z":"2ab4f9aa.b217b6","name":"sender","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":680,"y":240,"wires":[]},{"id":"22ec5241.903776","type":"function","z":"2ab4f9aa.b217b6","name":"type","func":"var bytes = Buffer.from(msg.payload)\n\nvar integer = bytes[0]\n\nmsg.payload = integer\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":180,"wires":[["9b1fb2ec.793148"]]},{"id":"9b1fb2ec.793148","type":"debug","z":"2ab4f9aa.b217b6","name":"type","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":670,"y":180,"wires":[]},{"id":"7d35484f.44036","type":"function","z":"2ab4f9aa.b217b6","name":"value","func":"var bytes = Buffer.from(msg.payload)\n\nvar integer = bytes[3]\n\nmsg.payload = integer\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":340,"wires":[["14a1c1e.c2f743e"]]},{"id":"14a1c1e.c2f743e","type":"debug","z":"2ab4f9aa.b217b6","name":"value","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":770,"y":340,"wires":[]},{"id":"9dfea1f6.eb4b1","type":"function","z":"2ab4f9aa.b217b6","name":"id","func":"var bytes = Buffer.from(msg.payload)\n\nvar integer = bytes[2]\n\nmsg.payload = integer\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":280,"wires":[["be6e64fa.d860a"]]},{"id":"be6e64fa.d860a","type":"debug","z":"2ab4f9aa.b217b6","name":"id","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":670,"y":280,"wires":[]},{"id":"4511f233.05a7f4","type":"mqtt out","z":"2ab4f9aa.b217b6","name":"","topic":"channels/2232200/publish","qos":"","retain":"","broker":"cf8041f6.c8138","x":1230,"y":400,"wires":[]},{"id":"df369b3c.70c3f","type":"delay","z":"2ab4f9aa.b217b6","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"5","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":800,"y":400,"wires":[["ce56d8bd.bb7e9"]]},{"id":"ce56d8bd.bb7e9","type":"function","z":"2ab4f9aa.b217b6","name":"thingspeak builder","func":"var CHANNEL_ID = \"2232200\"\n\nconst lines = msg.payload.split(\"\\n\")\n\nmsg.topic = \"channels/\"+CHANNEL_ID+\"/publish/\"\nmsg.payload=\"field\"+lines[0]+\"=\"+lines[1]+\"&status=MQTTPUBLISH\";\n\nreturn msg;\n","outputs":1,"noerr":0,"x":920,"y":480,"wires":[["4511f233.05a7f4","7c8ce14b.2b04a"]]},{"id":"7c8ce14b.2b04a","type":"debug","z":"2ab4f9aa.b217b6","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1180,"y":480,"wires":[]},{"id":"8b350276.421d5","type":"function","z":"2ab4f9aa.b217b6","name":"sender&value&extractor","func":"var bytes = Buffer.from(msg.payload)\n\nvar sender = bytes[1]\n\nvar value = bytes[3]\n\nvar payload = sender + \"\\n\" + value\n\nmsg.payload = payload\nreturn msg;","outputs":1,"noerr":0,"x":520,"y":400,"wires":[["df369b3c.70c3f"]]},{"id":"cf8041f6.c8138","type":"mqtt-broker","z":"","name":"LoraWan_prj","broker":"mqtt3.thingspeak.com","port":"1883","clientid":"NRcUOyk2JyY9ESo4PQUJCic","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""}]
